(this["webpackJsonpepic-auto-claim-front"]=this["webpackJsonpepic-auto-claim-front"]||[]).push([[0],{34:function(e,t,a){e.exports=a.p+"static/media/epic-auto-claim.6a8ee48e.png"},52:function(e,t,a){},60:function(e,t,a){e.exports=a(93)},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a.n(n),o=a(9),i=a(0),c=a.n(i),l=a(32),s=a.n(l),u=a(15),m=Object(u.a)(),d=a(11),p=a(95),f=function(e){return{userPresent:e.user.userPresent}},h=function(e){return Object(p.e)(Object(d.b)(f)((function(t){var a,n=t.userPresent,r=t.location;return(null===r||void 0===r||null===(a=r.state)||void 0===a?void 0:a.email)?c.a.createElement(e,null):n?c.a.createElement(p.a,{to:"/profile"}):c.a.createElement(p.a,{to:"/"})})))},v=function(e){return Object(p.e)(Object(d.b)(f)((function(t){return t.userPresent?c.a.createElement(e,null):c.a.createElement(p.a,{to:"/"})})))},E=a(16),b=a.n(E),g="https://epic-auto.appspot.com",y="".concat(g,"/api/login"),M="".concat(g,"/api/login/mfa"),N="".concat(g,"/api/freegames"),w="".concat(g,"/api/profile"),O="".concat(g,"/api/session"),j="".concat(g,"/api/purchase"),B="37D033EB-6489-3763-2AE1-A228C04103F5",C=function(){var e=Object(o.a)(r.a.mark((function e(){var t,a,n,o,i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(O,{withCredentials:!0});case 2:return t=e.sent,a=t.data.session.userPresent,n={},a&&(o=t.data.session,i=o.email,c=o.userPresent,n={user:{userPresent:c,email:i}}),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=a(10),I=a(34),P=a.n(I),S={login:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n={method:"POST",url:y,data:{email:e,password:t,captcha:a}};return b()(n).then(T).catch(A)},loginMfa:function(e,t,a){var n={method:"POST",url:M,data:{email:e,code:t,method:a}};return b()(n).then(T).catch(A)},getProfile:function(e){var t={method:"POST",url:w,data:{email:e}};return b()(t).then(k).catch(A)}};function T(e){return e}function k(e){return e.data}function A(e){throw e}var F={getFreeGames:function(e){var t={method:"POST",url:N,data:{email:e}};return b()(t).then(L).catch(W)},purhcase:function(e){var t={method:"POST",url:j,data:{email:e}};return b()(t).then(D).catch(W)}};function D(e){return{status:e.status,statusText:e.statusText}}function L(e){return e.data}function W(e){throw e}var _=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"LOGIN",email:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},q=a(36),G=q.a().shape({email:q.b().required(),password:q.b().required()}),z=a(18),R=a(57),H=(a(52),Object(d.b)(null,{userDispatch:_})((function(e){var t,a,n=Object(i.useState)(!1),r=Object(x.a)(n,2),o=r[0],l=r[1],s=Object(z.c)({resolver:Object(R.a)(G),mode:"all"}),u=s.handleSubmit,d=s.register,p=s.errors,f=s.getValues,h=function(e){var t;return"required"===(null===p||void 0===p||null===(t=p[e])||void 0===t?void 0:t.type)?"MuiInputBase-root MuiInput-root MuiInputBase-adornedEnd Mui-error":"MuiInputBase-root MuiInput-root MuiInputBase-adornedEnd"};return c.a.createElement("div",{className:"modalbase-container"},c.a.createElement("div",{className:"modalbase-content"},c.a.createElement("div",{className:"modalbase-card"},c.a.createElement("div",{className:"optional-top-spacer"}),c.a.createElement("div",{className:"modalbase-card-content"},c.a.createElement("div",{className:"layout-vertical"},c.a.createElement("div",{className:"epiclogo-layout"},c.a.createElement("img",{src:P.a,alt:"Logo",className:"EpicLogo",style:{width:130,height:50}})),c.a.createElement("h6",{className:"MuiTypography-root Subheading upper MuiTypography-subtitle1"},"Sign in with an Epic Games Account"),c.a.createElement("form",{className:"form-vertical"},c.a.createElement("div",{className:"MuiFormControl-root form-field MuiFormControl-fullWidth"},c.a.createElement("div",{className:h("email")},c.a.createElement("input",{autoComplete:"email",id:"email",name:"email",placeholder:"Email Address",type:"text",inputMode:"text","aria-label":"email",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",className:"MuiInputBase-input MuiInput-input MuiInputBase-inputAdornedEnd","aria-invalid":"true",ref:d}),"required"===(null===p||void 0===p||null===(t=p.email)||void 0===t?void 0:t.type)?c.a.createElement("div",{className:"MuiInputAdornment-root upper validation-adornment MuiInputAdornment-filled MuiInputAdornment-positionEnd"},"Required"):null)),c.a.createElement("div",{className:"MuiFormControl-root form-field MuiFormControl-fullWidth"},c.a.createElement("div",{className:h("password")},c.a.createElement("input",{autoComplete:"current-password",id:"password",name:"password",placeholder:"Password",type:"password",inputMode:"text","aria-label":"password",className:"MuiInputBase-input MuiInput-input MuiInputBase-inputAdornedEnd",ref:d}),"required"===(null===p||void 0===p||null===(a=p.password)||void 0===a?void 0:a.type)?c.a.createElement("div",{className:"MuiInputAdornment-root upper validation-adornment MuiInputAdornment-filled MuiInputAdornment-positionEnd"},"Required"):null)),c.a.createElement("div",{className:"controls-vertical"},c.a.createElement("button",{className:function(){var e=f(["email","password"]);return e.email&&e.password&&!o?"MuiButtonBase-root MuiButton-root MuiButton-contained SubmitButton MuiButton-containedPrimary MuiButton-fullWidth":"MuiButtonBase-root MuiButton-root MuiButton-contained SubmitButton MuiButton-containedPrimary MuiButton-fullWidth Mui-disabled"}(),type:"submit","aria-label":"sign-in",onClick:u((function(t){var a=t.email,n=t.password;l(!0),S.login(a,n).then((function(t){t.statusText;l(!1),e.userDispatch(a),m.push("/profile",{email:a})})).catch((function(e){if(l(!1),e.response&&e.response.data&&e.response.data.errorCode)if(e.response.data.errorCode.includes("session_invalidated"));else if("errors.com.epicgames.accountportal.captcha_invalid"===e.response.data.errorCode)m.push("/captcha",{email:a,password:n});else if("errors.com.epicgames.common.two_factor_authentication.required"===e.response.data.errorCode){console.log("TWO FACTOR YOU FUCKER.");var t=e.response.data.metadata.twoFactorMethod;m.push("/twofactor",{email:a,password:n,method:t})}}))}))},o?null:c.a.createElement("span",{className:"MuiButton-label"},"Log in now"),o?c.a.createElement("i",{style:{fontSize:20},className:"fa fa-circle-o-notch fa-spin"}):null))))),c.a.createElement("div",{className:"optional-bottom-spacer"}))))}))),J=a(20),U=a(21),V=a(23),Y=a(22),K=a(96),$=(a(87),function(e){Object(V.a)(a,e);var t=Object(Y.a)(a);function a(){return Object(J.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){return c.a.createElement(K.a,{fluid:!0,style:{padding:0,height:"100%"},className:"d-flex justify-content-center"},c.a.createElement("span",{className:"loader"},c.a.createElement("span",{className:"loader-inner"})))}}]),a}(c.a.Component)),Q=a(97),X=function(e){Object(V.a)(a,e);var t=Object(Y.a)(a);function a(){var e;Object(J.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1},e}return Object(U.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.scriptLoaded()}),1e3)}},{key:"scriptLoaded",value:function(){var e=this;if(this.setState({loading:!0}),this.props.location.state)var t=this.props.location.state,a=t.email,n=t.password;new window.FunCaptcha({public_key:B,target_html:"CAPTCHA",callback:function(t){S.login(a,n,t).then((function(t){t.statusText;e.props.userDispatch(a),m.push("/profile",{email:a})})).catch((function(e){if("errors.com.epicgames.common.two_factor_authentication.required"===e.response.data.errorCode){var t=e.response.data.metadata.twoFactorMethod;m.push("/twofactor",{email:a,password:n,method:t})}else window.location.path="/"}))}})}},{key:"render",value:function(){var e=this.state.loading;return c.a.createElement(K.a,{style:{padding:0,height:"100%"}},e?c.a.createElement("span",{style:{padding:0,height:"100%"},className:"d-flex justify-content-center"},c.a.createElement(Q.a,{className:"align-items-center align-middle"},c.a.createElement("div",{id:"CAPTCHA"}))):c.a.createElement($,null))}}]),a}(c.a.Component),Z=Object(p.e)(Object(d.b)(null,{userDispatch:_})(X)),ee=a(98),te=a(99),ae=a(100),ne=a(101),re=a(103),oe=a(104),ie=a(105),ce=a(102),le=(a(88),function(e){Object(V.a)(a,e);var t=Object(Y.a)(a);function a(){var e;Object(J.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={freeGames:null,user:null},e}return Object(U.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.email;F.getFreeGames(t).then((function(a){e.setState({freeGames:a}),S.getProfile(t).then((function(t){console.log(t),e.setState({user:t})})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}},{key:"renderCard",value:function(e){return e.map((function(e,t){var a,n=new Date(e.endDate),r=new Intl.DateTimeFormat("th",{month:"short"}).format(n),o=new Intl.DateTimeFormat("th",{day:"2-digit"}).format(n),i=new Intl.DateTimeFormat("th",{hour:"numeric",minute:"numeric"}).format(n);return c.a.createElement(ee.a,{sm:3,className:"d-flex align-items-center align-middle justify-content-center",style:{paddingBottom:15},key:t},c.a.createElement(te.a,null,c.a.createElement(ae.a,{top:!0,src:null===e||void 0===e||null===(a=e.keyImages.filter((function(e){return"Thumbnail"===e.type}))[0])||void 0===a?void 0:a.url,alt:null===e||void 0===e?void 0:e.productName}),e.purchasable?null:c.a.createElement(ne.a,{className:"d-flex align-items-center justify-content-center"},c.a.createElement("span",{style:{marginBottom:70}},c.a.createElement("span",{className:"d-flex justify-content-center"},c.a.createElement(ce.a,{size:"80px",color:"#4fdf6f"})),c.a.createElement("br",null),c.a.createElement(re.a,{style:{fontSize:"18px",opacity:1,color:"#fff"}},"ALREADY CLAIM"))),c.a.createElement(oe.a,null,c.a.createElement(ie.a,null,null===e||void 0===e?void 0:e.productName),c.a.createElement(re.a,null,"\u0e1f\u0e23\u0e35\u0e41\u0e25\u0e49\u0e27\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 - ","".concat(r," ").concat(o," \u0e40\u0e27\u0e25\u0e32 ").concat(i)))))}))}},{key:"render",value:function(){var e,t,a=this.state,n=a.freeGames,r=a.user,o=this.props.userPresent;return c.a.createElement(c.a.Fragment,null,n&&r&&o?c.a.createElement(K.a,{fluid:!0,style:{padding:0,height:"100%"}},c.a.createElement("div",{className:"content"},c.a.createElement(Q.a,{className:"justify-content-center",style:{margin:"20px"}},c.a.createElement("div",{className:"greet-text"},"  ","Hello ",null===r||void 0===r||null===(e=r.userInfo)||void 0===e||null===(t=e.displayName)||void 0===t?void 0:t.value,"! ","  ")),c.a.createElement("div",{className:"d-flex align-items-center align-middle"},c.a.createElement(Q.a,{className:"justify-content-center"},n?this.renderCard(n):null)))):c.a.createElement($,null))}}]),a}(c.a.Component)),se=Object(p.e)(Object(d.b)((function(e){var t=e.user;return{email:t.email,userPresent:t.userPresent}}))(le)),ue=a(58),me=(a(89),Object(p.e)(Object(d.b)(null,{userDispatch:_})((function(e){var t=Object(i.useState)(!1),a=Object(x.a)(t,2),n=a[0],r=a[1],o=Object(i.useState)(null),l=Object(x.a)(o,2),s=l[0],u=l[1];return c.a.createElement("div",{className:"modalbase-container"},c.a.createElement("div",{className:"modalbase-content"},c.a.createElement("div",{className:"modalbase-card"},c.a.createElement("div",{className:"optional-top-spacer"}),c.a.createElement("div",{className:"modalbase-card-content"},c.a.createElement("div",{className:"layout-vertical"},c.a.createElement("div",{className:"epiclogo-layout"},c.a.createElement("img",{src:P.a,alt:"Logo",className:"EpicLogo",style:{width:130,height:50}})),c.a.createElement("h6",{className:"d-flex justify-content-center MuiTypography-root Subheading upper center MuiTypography-subtitle1"},"Enter the security code to continue"),c.a.createElement("form",{className:"form-vertical",onSubmit:function(e){return e.preventDefault()}},c.a.createElement("div",{className:"MuiFormControl-root form-field masked-code MuiFormControl-fullWidth",style:{backgroundColor:"inherit"}},c.a.createElement("div",{className:"custom-styles"},c.a.createElement(ue.a,{id:"input-verification-code",placeholder:"",onChange:function(e){u(e);for(var t=document.getElementsByClassName("ReactInputVerificationCode__item"),a=0;a<t.length;a++){if(t[a].innerHTML)t[a].classList.contains("haveInput")||t[a].classList.add("haveInput");else t[a].classList.remove("haveInput")}},length:6}))),c.a.createElement("div",{className:"controls-horizontal",style:{marginTop:"30px"}},c.a.createElement("button",{className:"MuiButtonBase-root MuiButton-root MuiButton-contained CancelButton MuiButton-containedSecondary MuiButton-fullWidth",type:"button",id:"cancel"},c.a.createElement("span",{className:"MuiButton-label"},"Cancel")),c.a.createElement("div",{className:"Spacer",style:{width:"100%",height:"0px",maxWidth:"25px",maxHeight:"0px"}}),c.a.createElement("button",{className:s&&s.length>=6&&!n?"MuiButtonBase-root MuiButton-root MuiButton-contained SubmitButton MuiButton-containedPrimary MuiButton-fullWidth":"MuiButtonBase-root MuiButton-root MuiButton-contained SubmitButton MuiButton-containedPrimary MuiButton-fullWidth Mui-disabled",type:"submit",id:"continue",onClick:function(){if(e.location.state)var t=e.location.state,a=t.email,n=t.method;r(!0),S.loginMfa(a,s,n).then((function(t){t.statusText;r(!1),e.userDispatch(a),m.push("/profile",{email:a})})).catch((function(e){r(!1),m.push("/")}))}},n?null:c.a.createElement("span",{className:"MuiButton-label"},"Continue"),n?c.a.createElement("i",{style:{fontSize:20},className:"fa fa-circle-o-notch fa-spin"}):null))))),c.a.createElement("div",{className:"optional-bottom-spacer"}))))})))),de=(a(90),function(e){Object(V.a)(a,e);var t=Object(Y.a)(a);function a(){return Object(J.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){return c.a.createElement(K.a,{fluid:!0,style:{height:"100%"},className:"wrapper d-flex align-items-center align-middle"},c.a.createElement(ee.a,null,c.a.createElement(Q.a,null,c.a.createElement("div",{className:"head"},c.a.createElement("div",{className:"meta"}),c.a.createElement("div",{className:"meta"}))),c.a.createElement("span",{style:{width:"100%",height:"100%"},className:"d-flex justify-content-center"},c.a.createElement("div",{className:"body"}))))}}]),a}(c.a.Component)),pe=a(24),fe=a(59),he={userPresent:!1},ve=Object(pe.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return{userPresent:!0,email:t.email};default:return e}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(91),a(92);var Ee=function(e){var t,a,n=(t=e,Object(pe.d)(ve,t,Object(pe.a)(fe.a)));s.a.render(c.a.createElement(d.a,{store:n},c.a.createElement(p.c,{history:m},c.a.createElement(p.d,null,c.a.createElement(p.b,{exact:!0,path:"/",component:(a=H,Object(p.e)(Object(d.b)(f)((function(e){return e.userPresent?c.a.createElement(p.a,{to:"/profile"}):c.a.createElement(a,null)}))))}),c.a.createElement(p.b,{path:"/captcha",component:h(Z)}),c.a.createElement(p.b,{path:"/twofactor",component:h(me)}),c.a.createElement(p.b,{path:"/profile",component:v(se)}),c.a.createElement(p.b,{path:"/404",component:de}),c.a.createElement(p.a,{from:"*",to:"/404"})))),document.getElementById("root"))};Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ee,e.next=3,C();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[60,1,2]]]);
//# sourceMappingURL=main.5e44e556.chunk.js.map